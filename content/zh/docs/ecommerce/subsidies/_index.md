---
title: '补差API'
linkTitle: '补差'
weight: 6
description: >
  开展由平台出资的营销活动时, 支持电商平台补差转账给二级商户。
type: 'docs'
---

## 业务流程

![](https://pay.weixin.qq.com/wiki/doc/apiv3/wxpay/assets/img/common/ecommerce/chapter2_3_7.png)

`步骤1`: 电商平台创建订单时, 传递补差标识, 在用户确认收货后, 需调用微信支付《请求补差》接口, 进行补差, 补差成功后, 再进行后续分账处理\
`步骤2`: 当补差标识订单进行补差操作后发生退款, 需电商平台调用《请补差账回退》接口, 对补差金额回退。再进行后续分账处理。\
`步骤3`: 当补差标识订单未进行补差操作前发生退款, 需电商平台调用《取消补差》接口, 进行取消补差, 再进行后续分账处理

## 使用场景

电商平台营销活动场景举例如下:

- 电商平台向新用户发放由平台出资的满 200 减 20 元优惠券, 用户 A 领取了一张 20 元的优惠券。
- 用户 A 购买 2 件商品订单总价 200 元, 使用一张 20 元的优惠券, 实际仅需支付 180 元。
- 电商平台可以利用补差接口, 将优惠的 20 元补差给二级商户。二级商户账户一共入账 180+20=200 元。
- 二级商户可以按 200 元为分账基数向相关分成方进行分账。
- 用户收到货之后, 选择其中 1 件订单价 100 元的商品进行退款, 此时不满足电商平台满 200 减 20 的用券条件。
- 电商平台可从二级商户账户退回 80 元给到用户, 并通过补差回退将 20 元部分或全部退回到电商平台。

## 使用补差接口的优势:

- 灵活的补差转账: 支持电商平台全场、品类、单店、单品牌等范围内的满减、折扣等多种灵活营销方式。电商平台营销方式与微信支付资金能力配合, 只需调用补差接口, 将最终的优惠金额补差转账给二级商户即可。
- 减少资金占用: 电商平台只需要在分账前将补差金额补差给二级商户即可。一方面, 避免了用户下单不支付场景下的资金占用；另一方面, 对于那些用户支付后很长一段时间才会确认收货和分账的电商平台而言, 减少了从支付到分账环节的资金占用。
- 二级商户收款体验好: 相对于线下将补贴给二级商户的方式, 使用微信支付提供的补差能力, 可以做到二级商户交易和补差一笔到账, 信息流和资金流更加一致, 二级商户收款体验更好。
- 灵活的补差退款: 当用户发生退款, 需要退回补差的情况下, 支持电商平台根据自己的规则向微信支付发起补差退款指令, 将补差金额从二级商户账户补差回退至电商平台账户。
